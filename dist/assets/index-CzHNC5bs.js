(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();function a(c,t){const o=document.getElementById("feedback-container");o.textContent=c,o.classList.add(t),setTimeout(()=>{o.textContent="",o.classList.remove(t)},5e3)}async function i(){let c="https://moment3dt207g-6kaa.onrender.com/work_experience";try{const t=await fetch(c);if(!t.ok)throw new Error("Failed to fetch data");const o=await t.json();console.log("Work experience",o),d(o)}catch(t){console.error("Error fetching data",t)}}function l(c,t){const o=new Date(c).getFullYear(),e=t?new Date(t).getFullYear():"Present";return`${o} - ${e}`}function d(c){const t=document.getElementById("work-experience-list");if(t.innerHTML="",c.length===0){const e=document.createElement("li");e.textContent="No work experience available.",e.classList.add("no-work-experience"),t.appendChild(e);return}c.forEach(e=>{const r=l(e.start_date,e.end_date),n=document.createElement("li");n.innerHTML=`
            <strong>${e.company}</strong> (${e.job_title}) <br>
            <span>${r}</span> <br><br>
            <button class="delete-btn" data-id="${e._id}">Delete</button>
        `,t.appendChild(n)}),document.querySelectorAll(".delete-btn").forEach(e=>{e.addEventListener("click",u)})}async function u(c){const o=`https://moment3dt207g-6kaa.onrender.com/work_experience/${c.target.getAttribute("data-id")}`;try{const e=await fetch(o,{method:"DELETE"});if(e.ok)console.log("Successfully deleted work experience"),i(),a("Work experience deleted successfully.","success");else{const r=await e.json();throw new Error(r.error||"Something went wrong")}}catch(e){console.error("Deletion failed:",e),a("Error deleting work experience. Please try again.","error")}}i();
